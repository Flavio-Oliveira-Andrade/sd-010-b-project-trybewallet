(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{26:function(e,t,n){},32:function(e,t,n){e.exports=n(43)},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=n(30),l=n(8),u=n(9),s=n(28),h=n(29),d=n(14);var m={email:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROPER_EMAIL":return Object(d.a)(Object(d.a)({},e),{},{email:t.payload.email});default:return e}},b=n(31),f={currencies:[],expenses:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODAS_MOEDAS":return Object(d.a)(Object(d.a)({},e),{},{currencies:t.payload.moeda});case"ADICIONA_GASTOS":return Object(d.a)(Object(d.a)({},e),{},{expenses:[].concat(Object(b.a)(e.expenses),[t.gasto])});default:return e}},O=Object(u.combineReducers)({user:p,wallet:v}),g=Object(u.createStore)(O,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(h.a))),E=(n(41),n(2)),j=n(16),y=n(10),C=n(11),w=n(7),k=n(13),A=n(12),F=(n(26),function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",redireciona:!1},a.handleChange=a.handleChange.bind(Object(w.a)(a)),a.submit=a.submit.bind(Object(w.a)(a)),a}return Object(C.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(j.a)({},a,n))}},{key:"submit",value:function(){(0,this.props.usuario)(this.state.email),this.setState({redireciona:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,c=t.redireciona,o="";n.match(/((\w+)@(\w+)\.(\w+))/i)&&(o=!0);var i="";return a.length>5&&(i=!0),c?r.a.createElement(E.a,{to:"/carteira"}):r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{"data-testid":"email-input",type:"email",name:"email",placeholder:"Digite seu email",className:"email",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{"data-testid":"password-input",type:"password",name:"password",placeholder:" Digite sua senha",className:"password",onChange:this.handleChange})),r.a.createElement("button",{type:"button",className:"firstButton",disabled:""===o||""===i,onClick:function(){return e.submit()}},"Entrar"))}}]),n}(r.a.Component)),D=Object(l.b)(null,(function(e){return{usuario:function(t){return e(function(e){return{type:"PROPER_EMAIL",payload:{email:e}}}(t))}}}))(F),S=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.gastos,a=0;return n.forEach((function(e){Object.values(e.exchangeRates).forEach((function(t){"BRLT"!==t.codein&&e.currency===t.code&&(a+=e.value*t.ask)}))})),r.a.createElement("div",null,r.a.createElement("p",{"data-testid":"email-field"},t),r.a.createElement("p",{"data-testid":"total-field"},0===a?0:a.toFixed(2)),r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL"))}}]),n}(r.a.Component),x=Object(l.b)((function(e){return{gastos:e.wallet.expenses}}),null)(S),M=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={id:"",value:"",currency:"",method:"",tag:"",description:"",exchangeRates:{}},a.handleOnChange=a.handleOnChange.bind(Object(w.a)(a)),a.handleOnClick=a.handleOnClick.bind(Object(w.a)(a)),a.selectMethodFunction=a.selectMethodFunction.bind(Object(w.a)(a)),a.valueFunction=a.valueFunction.bind(Object(w.a)(a)),a.descriptionFunction=a.descriptionFunction.bind(Object(w.a)(a)),a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchDispatch)()}},{key:"handleOnChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(j.a)({},n,a))}},{key:"handleOnClick",value:function(){var e=this,t=this.props,n=t.fetchCoins,a=t.gastoAction,r=t.gastosAtuaisArray;n().then((function(t){return e.setState({exchangeRates:t,id:r.length})})).then((function(){return a(e.state)}))}},{key:"selectMethodFunction",value:function(){return r.a.createElement("label",{htmlFor:"method"},"M\xe9todo de pagamento",r.a.createElement("select",{id:"method",name:"method",className:"method",onChange:this.handleOnChange},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito")))}},{key:"valueFunction",value:function(){return r.a.createElement("label",{htmlFor:"value"},"Valor",r.a.createElement("input",{id:"value",type:"text",name:"value",className:"value",onChange:this.handleOnChange}))}},{key:"descriptionFunction",value:function(){return r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o",r.a.createElement("input",{id:"description",type:"text",name:"description",className:"description",onChange:this.handleOnChange}))}},{key:"render",value:function(){var e=this.props.currencies;return r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.valueFunction(),this.descriptionFunction(),r.a.createElement("label",{htmlFor:"currency"},"Moeda",r.a.createElement("select",{id:"currency",name:"currency",className:"currency",onChange:this.handleOnChange},e.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),this.selectMethodFunction(),r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{id:"tag",name:"tag",className:"tag",onChange:this.handleOnChange},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Tranporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("button",{type:"submit",className:"secondButton",onClick:this.handleOnClick},"Adicionar despesa")))}}]),n}(r.a.Component),T=Object(l.b)((function(e){return{currencies:e.wallet.currencies,gastosAtuaisArray:e.wallet.expenses}}),(function(e){return{fetchDispatch:function(){return e((function(e){fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){delete t.USDT,e(function(e){return{type:"TODAS_MOEDAS",payload:{moeda:e}}}(Object.keys(t)))}))}))},fetchCoins:function(){return e((function(){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(e){return e}))}))},gastoAction:function(t){return e(function(e){return{type:"ADICIONA_GASTOS",gasto:e}}(t))}}}))(M),N=function(e){Object(k.a)(n,e);var t=Object(A.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props.email;return r.a.createElement("div",null,r.a.createElement(x,{email:e}),r.a.createElement(T,null))}}]),n}(r.a.Component),R=Object(l.b)((function(e){return{email:e.user.email}}),null)(N);var I=function(){return r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:D}),r.a.createElement(E.b,{exact:!0,path:"/carteira",component:R}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(l.a,{store:g},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.cce86729.chunk.js.map